<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="../theme/css/style.less">
  <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="icon" type="image/vnd.microsoft.icon" href="../">
  <link rel="stylesheet" type="text/css" href="../theme/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto+Mono">
  <link rel="stylesheet" type="text/css" href="../theme/css/fontawesome-all.min.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/hatena-bookmark-icon.css">
  <link rel="stylesheet" type="text/css" href="/static/custom.css">


  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Didier Gohourou">
  <meta name="description" content="Posts and writings by Didier Gohourou">

  <link href="https://godidier.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="[GTR] Atom" />

<meta name="keywords" content="">

  <title>
    [GTR]
&ndash; Building a Simple TORCS AI Agent (5/11): Steering and Trajectory  </title>

</head>

<body>
  <main>
    <header>
      <div class="site-name">
        <a href="..">[GTR]  <br/> Godidier's Technical Report</a>
      </div>
      <p>
        <a href="../archives.html"><i class="fab fas-archive"></i> Archive</a>
      </p>
	  <ul class="menuitems">   
          <li><a href="../#">Here</a></li>
          <li><a href="../#">And there</a></li>
	  </ul>
    </header>

<article>
  <div class="article__title">
    <h1><a href="../drafts/torcs-ai-tuto-5.html">Building a Simple TORCS AI Agent (5/11): Steering and Trajectory</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: 月 10 12月 2018</p>
    </p>
  </div>
  <div class="article__text">
    <p>This is the fifth chapter of a tutorial for building an AI agent for the racing 
game TORCS. In this chapter, we improve the steering angle of our AI Agent. We will 
use an heuristic approach to increase the radius of our car's path in turns, 
thus our speed as well.</p>
<h1>Utility classes</h1>
<p>First, let's introduce two classes to simplify our calculations in computing 
steering angles and specific distances. </p>
<h2>The Vector Class</h2>
<p>The first utility class <code>V2D</code>, represent a two dimensional vector. It implement 
useful operations that can be applied to a vector such as: addition, substraction, 
scalar multiplication and dot product. Additional implemented functions are 
normalization, rotation around a center and computing the length of the vector.</p>
<p>Let's create a folder named <em>linalg</em> within our project. Within this folder 
create a file named <em>v2d.h</em>. Implement the following listing in the created file.</p>
<div class="highlight"><pre><span></span>
</pre></div>


<h2>The Straight Class</h2>
<p>The second utiliy class <code>Straight</code>, represent some kind of 
<a href="https://en.wikipedia.org/wiki/Euclidean_vector">Euclidean vector</a>.
We will use it to find intersection points among straights, and distances between 
points and straights.</p>
<p>As you might see the <code>Straigth</code> class contains two <code>Vector2D</code>. One hold a point 
on the straight and the other the direction.</p>
<p>Let's create a file named <em>straight.h</em> within the <em>linalg</em> folder. Add the 
following code in the newly created file.</p>
<div class="highlight"><pre><span></span>
</pre></div>


<h1>Improving the steering</h1>
<p>The new steering approach we will adopt can be explained as follow:
from driving in the middle of the track, we designate a target point ahead of 
the car toward which we point the wheels. This result in greater turn radius 
of the car. The figure below give an idea of what goes on.</p>
<p><img alt="Steering trajectory" src="../images/2019-01/steering-heuristic.png"></p>
<p>Although the overall path of the car will improve greatly, we have to note 
that we are still far away from a good trajectory, since we cannot take a turn 
with the biggest possible radius, starting and ending onthe middle of the track.</p>
<h2>Finding the target point</h2>
<div class="highlight"><pre><span></span>
</pre></div>


<p>(Note the difference between the <code>look_ahead</code> variables)</p>
<h2>Heading toward the target point</h2>
  </div>

</article>


  </main>
    <footer>
      <div class="author__logo">
          <img src="../theme/images/logo.png" alt="logo">
      </div>
      <section class="author">
        <div class="author__name">
          <a href="../pages/about.html">Didier Gohourou</a>
          <p></p>
        </div>
        <div class="author__link">
          <ul>
            <!--<li><a href="#" title="About"><i class="fab fa-link"></i></a></li>-->
			<li style="font-size:10px;"><a href="#" title="About">About | </a></li>
            <!--<li><a href="http://python.org/" title="Python.org"><i class="fab fa-link"></i></a></li>-->
			<li style="font-size:10px;"><a href="http://python.org/" title="Python.org">Python.org | </a></li>
            <!--<li><a href="http://jinja.pocoo.org/" title="Jinja2"><i class="fab fa-link"></i></a></li>-->
			<li style="font-size:10px;"><a href="http://jinja.pocoo.org/" title="Jinja2">Jinja2 | </a></li>
            <!--<li><a href="#" title="You can modify those links in your config file"><i class="fab fa-link"></i></a></li>-->
			<li style="font-size:10px;"><a href="#" title="You can modify those links in your config file">You can modify those links in your config file | </a></li>
          </ul>
          <ul>
            <li>
              <a href="#" target="_blank" title="You can add links in your config file">
              </a>
            </li>
            <li>
              <a href="#" target="_blank" title="Another social link">
              </a>
            </li>
            <li>
              <a href="#" target="_blank" title="facebook">
                <i class="fab fa-facebook-square"></i>
              </a>
            </li>
            <li>
              <a href="#" target="_blank" title="twitter">
                <i class="fab fa-twitter-square"></i>
              </a>
            </li>
            <li>
              <a href="https://godidier.github.io/feeds/all.atom.xml" target="_blank" title="Feed">
                <i class="fas fa-rss-square"></i>
              </a>
            </li>
          </ul>
        </div>
      </section>
	  <section >
		<ul class="listlinks">
          <li><a href="../#">About</a></li>
          <li><a href="../http://python.org/">Python.org</a></li>
          <li><a href="../http://jinja.pocoo.org/">Jinja2</a></li>
          <li><a href="../#">You can modify those links in your config file</a></li>
		</ul>
	  </section>
      <div class="ending-message">
        <p>&copy; Didier Gohourou. Powered by <a href="http://getpelican.com" target="_blank">Pelican</a>, Theme is using <a href="https://github.com/laughk/pelican-hss" target="_blank">HSS</a>. </p>
      </div>
    </footer>
</body>
</html>